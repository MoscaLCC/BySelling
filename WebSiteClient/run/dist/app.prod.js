"use strict";var express=require("express"),bodyParser=require("body-parser"),path=require("path"),cookieParser=require("cookie-parser"),mysql=require("mysql"),favicon=require("serve-favicon"),logger=require("morgan"),nodemailer=require("nodemailer"),app=express(),connection=mysql.createConnection({multipleStatements:!0,hostname:"localhost",port:"3306",user:"root",password:"root",database:"id4056546_uniline"});connection.connect(function(e){e?console.log("Error connecting to Db "+e):console.log("Connection established")});var transporter=nodemailer.createTransport({service:"Gmail",auth:{user:"luismarqueslcc@gmail.com",pass:"Tita9800000"}}),contact=require("./routes/contactForm"),about=require("./routes/about-us"),index=require("./routes/index"),order=require("./routes/order"),signup=require("./routes/signup"),logout=require("./routes/logout"),account=require("./routes/account"),signin=require("./routes/signin"),prodef=require("./routes/prodef"),encsuc=require("./routes/encsuc"),home=require("./routes/home"),indisponivel=require("./routes/indisponivel"),orderInfo=require("./routes/orderInfo"),produto=require("./routes/produto");app.set("views",path.join(__dirname,"views")),app.set("view engine","pug"),app.use(cookieParser()),app.use(bodyParser.urlencoded({extended:!0})),app.use(express.static(path.join(__dirname,"public"))),app.use(express.static(path.join("./../../backofficeA/run/public/"))),app.use(function(e,r,o){e.connection=connection,o()}),app.use(function(e,r,o){e.transporter=transporter,o()}),app.use("/contact",contact),app.use("/aboutUs",about),app.use("/",index),app.use("/order",order),app.use("/home",home),app.use("/orderInfo",orderInfo),app.use("/indisponivel",indisponivel),app.use("/signup",signup),app.use("/signin",signin),app.use("/account",account),app.use("/prodef",prodef),app.use("/logout",logout),app.use("/encsuc",encsuc),app.use("/produto",produto),app.use(function(e,r,o){var s=new Error("Not Found");s.status=404,o(s)}),app.locals.prettyDate=function(e){return e.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+e.getFullYear()},app.use(function(e,r,o,s){o.locals.message=e.message,o.locals.error="development"===r.app.get("env")?e:{},o.status(e.status||500),o.render("error")}),module.exports=app;